<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Page G3 - Password Protected</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        #passwordForm { display: block; }
        #slideshow { display: none; margin-top: 20px; }
        #slideshow img, #slideshow video { max-width: 100%; height: auto; transition: opacity 1s ease-in-out; }
        .error { color: red; margin-top: 10px; }
        .media-error { color: orange; font-size: 14px; }
    </style>
</head>
<body>
    <h1>Enter Password to Unlock</h1>
    <div id="passwordForm">
        <input type="password" id="passwordInput" placeholder="Enter password">
        <button id="submitButton">Submit</button>
        <div id="errorMessage" class="error"></div>
    </div>
    <div id="slideshow">
        <div id="mediaError" class="media-error"></div>
    </div>
    <button id="nextToG4">Next</button>

    <script>
        const correctPassword = "131224";
        const media = [
            { type: "image", src: "image1.jpeg" },
            { type: "video", src: "video1.mp4" },
            { type: "image", src: "image2.jpeg" },
            { type: "image", src: "image3.jpeg" },
            { type: "image", src: "image4.jpeg" }
        ];
        let currentIndex = 0;
        let slideshowInterval;

        document.getElementById('submitButton').addEventListener('click', function() {
            const enteredPassword = document.getElementById('passwordInput').value.trim();
            if (enteredPassword === correctPassword) {
                document.getElementById('passwordForm').style.display = 'none';
                document.getElementById('slideshow').style.display = 'block';
                startSlideshow();
            } else {
                document.getElementById('errorMessage').textContent = "Incorrect password.";
            }
        });

        function startSlideshow() {
            const slideshowContainer = document.getElementById('slideshow');
            const mediaError = document.getElementById('mediaError');
            
            function showMedia(index) {
                slideshowContainer.innerHTML = '<div id="mediaError" class="media-error"></div>';
                const item = media[index];
                let element;
                
                if (item.type === 'image') {
                    element = document.createElement('img');
                    element.src = item.src;
                    element.alt = 'Slideshow Image';
                    element.style.width = '50%';
                    element.style.height = 'auto';
                    element.onerror = () => {
                        console.error('Image failed:', item.src);
                        document.getElementById('mediaError').textContent = `Failed to load: ${item.src}`;
                    };
                    element.onload = () => {
                        console.log('Image loaded:', item.src);
                        document.getElementById('mediaError').textContent = '';
                    };
                } else if (item.type === 'video') {
                    element = document.createElement('video');
                    element.src = item.src;
                    element.autoplay = true;
                    element.muted = true;
                    element.loop = true;
                    element.style.width = '50%';
                    element.style.height = 'auto';
                    element.onerror = () => {
                        console.error('Video failed:', item.src);
                        document.getElementById('mediaError').textContent = `Failed to load: ${item.src}`;
                    };
                }
                
                slideshowContainer.appendChild(element);
            }
            
            showMedia(currentIndex);
            slideshowInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % media.length;
                showMedia(currentIndex);
            }, 5000);
        }

        document.getElementById('nextToG4').addEventListener('click', function() {
            window.location.href = 'g4.html';
        });
    </script>
</body>
</html>